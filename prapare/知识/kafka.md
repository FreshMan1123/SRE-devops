kafka怎么保证数据不丢失的
在生产者端：它会往服务器端的leader发送数据，leader会往follow副本发送数据，待所有副本确认之后，才会返回成功
同时，生产者端有同步机制
最后生产者端有幂等性，避免重复发送导致的数据重复
在服务器端：每个分区有多个副本，只有同步的副本才能参与选举，同时数据写入磁盘
在消费者端：数据处理完再返回偏移量